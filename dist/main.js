(()=>{"use strict";const e=document.querySelector(".task-list");function t(e){const t=document.createElement("button");t.textContent="delete",t.classList.add("delete-button"),e.appendChild(t),t.addEventListener("click",(()=>{localStorage.removeItem(e.dataset.value),e.remove(),t.remove()}))}const n=document.querySelector(".project-name"),c=document.querySelector(".task-list");function o(){let e=localStorage.getItem(n.textContent),o=JSON.parse(e);for(let e=0;e<o.children.length;e++){const n=document.createElement("li");n.textContent=o.children[e].title+" "+o.children[e].description+" "+o.children[e].date,n.classList.add("task-item"),t(n),c.appendChild(n)}}const l=document.querySelector(".project-list"),a=document.querySelector(".project-name"),d=document.querySelector(".project-name"),i=document.querySelector(".task-list");function r(){document.querySelectorAll(".project-item").forEach((e=>{e.addEventListener("click",(()=>{d.textContent=e.getAttribute("data-value"),i.textContent="",o()}))}))}const s=document.getElementById("new-task"),m=document.getElementById("new-project"),u=document.getElementById("create-task"),p=document.querySelector(".task-form"),y=document.querySelector(".project-form"),S=document.getElementById("create-project"),g=document.querySelector(".project-name");s.addEventListener("click",(()=>{p.style.visibility="visible"})),m.addEventListener("click",(()=>{y.style.visibility="visible"})),S.addEventListener("click",(()=>{const e={name:document.getElementById("project-name").value,children:[]};!function(e,t){localStorage.setItem(e,JSON.stringify(t));const n=document.createElement("li");n.textContent=t.name,n.classList.add("project-item"),n.dataset.value=t.name,a.textContent=t.name,l.appendChild(n)}(e.name,e),y.style.visibility="hidden",r()})),function(){const e=document.querySelector(".project-list");for(let n=0;n<localStorage.length;n++){let c=localStorage.getItem(localStorage.key(n)),o=JSON.parse(c);const l=document.createElement("li");l.classList.add("project-item"),l.dataset.value=o.name,l.textContent=o.name,t(l),e.appendChild(l)}}(),function(){let e=localStorage.getItem(localStorage.key(0)),t=JSON.parse(e);d.textContent=t.name}(),o(),r(),u.addEventListener("click",(()=>{!function(t,n){let c=localStorage.getItem(n),o=JSON.parse(c);o.children.push(t),localStorage.setItem(n,JSON.stringify(o));const l=document.createElement("li");l.textContent=t.title+" "+t.description+" "+t.date,l.classList.add("task-item"),e.appendChild(l)}({title:document.getElementById("title").value,description:document.getElementById("description").value,date:document.getElementById("date").value},g.textContent),p.style.visibility="hidden"}))})();