(()=>{"use strict";const e=document.querySelector(".project-name");function t(t,n){const c=document.createElement("button");c.textContent="delete",c.classList.add("delete-button"),t.appendChild(c),c.addEventListener("click",(()=>{let c=localStorage.getItem(e.textContent),o=JSON.parse(c);o.children.splice(n,1),localStorage.setItem(e.textContent,JSON.stringify(o)),t.remove()}))}const n=document.querySelector(".task-list"),c=document.querySelector(".project-name"),o=document.querySelector(".task-list");function l(){let e=localStorage.getItem(c.textContent),n=JSON.parse(e);for(let e=0;e<n.children.length;e++){const c=document.createElement("li");c.textContent=n.children[e].title+" "+n.children[e].description+" "+n.children[e].date,c.classList.add("task-item"),c.dataset.index=e,t(c,e),o.appendChild(c)}}const a=document.querySelector(".project-list");function d(e){const t=document.createElement("button");t.textContent="delete",t.classList.add("delete-button"),e.appendChild(t),t.addEventListener("click",(()=>{localStorage.removeItem(e.dataset.value),e.remove(),t.remove()}))}const i=document.querySelector(".project-name"),r=document.querySelector(".task-list");function s(){document.querySelectorAll(".project-item").forEach((e=>{e.addEventListener("click",(()=>{i.textContent=e.getAttribute("data-value"),r.textContent="",l()}))}))}const m=document.getElementById("new-task"),u=document.getElementById("new-project"),p=document.getElementById("create-task"),y=document.querySelector(".task-form"),g=document.querySelector(".project-form"),S=document.getElementById("create-project"),v=document.querySelector(".project-name");m.addEventListener("click",(()=>{y.style.visibility="visible"})),u.addEventListener("click",(()=>{g.style.visibility="visible"})),S.addEventListener("click",(()=>{const e={name:document.getElementById("project-name").value,children:[]};!function(e,t){localStorage.setItem(e,JSON.stringify(t));const n=document.createElement("li");n.textContent=t.name,n.classList.add("project-item"),n.dataset.value=t.name,a.appendChild(n)}(e.name,e),g.style.visibility="hidden",s()})),function(){const e=document.querySelector(".project-list");for(let t=0;t<localStorage.length;t++){let n=localStorage.getItem(localStorage.key(t)),c=JSON.parse(n);const o=document.createElement("li");o.classList.add("project-item"),o.dataset.value=c.name,o.textContent=c.name,d(o),e.appendChild(o)}}(),function(){let e=localStorage.getItem(localStorage.key(0)),t=JSON.parse(e);i.textContent=t.name}(),l(),s(),p.addEventListener("click",(()=>{!function(e,c){let o=localStorage.getItem(c),l=JSON.parse(o);l.children.push(e),localStorage.setItem(c,JSON.stringify(l));const a=document.createElement("li");a.textContent=e.title+" "+e.description+" "+e.date,a.classList.add("task-item"),a.dataset.index=l.children.length-1,t(a,a.dataset.index),n.appendChild(a)}({title:document.getElementById("title").value,description:document.getElementById("description").value,date:document.getElementById("date").value},v.textContent),y.style.visibility="hidden"}))})();